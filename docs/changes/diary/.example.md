# Дневник изменений: YYYY-MM-DD (branch-name)

Этот файл содержит все изменения за день в конкретной ветке.

## Формат

Каждая запись начинается с заголовка уровня 2 (`##`) и содержит время, тип, скоуп и краткое описание.

---

## 14:05 feat[core.search] — Добавлена поддержка фильтров
**Entry ID:** 20251003140500  
**Дата:** 2025-10-03  
**Ветка:** main

### Файлы
- `src/ElasticSearch.php` (+85 −12)
- `config/elastic.php` (+15 −3)

### Что сделано
Добавлена поддержка фильтров в метод search().
Реализованы term-фильтры для точного совпадения и range-фильтры для диапазонов.
Обновлена конфигурация с примерами использования фильтров.
Добавлена документация по использованию фильтров в README.

### Почему
Пользователи пакета запрашивали возможность фильтрации результатов поиска.
Это частая потребность при работе с Elasticsearch.

### Влияние
- **API пакета:** Добавлен параметр `filters` в метод `search()` (обратно совместимо)
- **Обратная совместимость:** Полностью совместимо, параметр опциональный
- **Производительность:** Фильтры выполняются в filter context, что быстрее query context
- **Конфигурация:** Добавлены примеры настройки фильтров

### Проверено
- Тесты: добавлены новые тесты для фильтров
- Линтер: ok
- Совместимость: Laravel 10+ и Laravel 11+

### Follow-up
- [ ] Добавить примеры в документацию
- [ ] Обновить CHANGELOG.md

---

## 10:30 fix[command.index] — Исправлена ошибка при индексации пустых моделей
**Entry ID:** 20251003103000  
**Дата:** 2025-10-03  
**Ветка:** main

### Файлы
- `src/Console/IndexCommand.php` (+5 −2)

### Что сделано
Исправлена ошибка, которая возникала при попытке индексации моделей с пустыми результатами.
Добавлена проверка на пустой результат перед индексацией.

### Почему
При индексации модели без записей команда выбрасывала исключение.
Это нарушало работу автоматической индексации.

### Влияние
- **API пакета:** N/A
- **Обратная совместимость:** Совместимо
- **Производительность:** N/A
- **Конфигурация:** N/A

### Проверено
- Тесты: обновлены существующие тесты
- Линтер: ok
- Совместимость: Laravel 10+ и Laravel 11+

### Follow-up
- N/A

---

## Правила

1. **Записи добавляются В КОНЕЦ** файла (новые снизу)
2. **Entry ID** должен быть уникальным (можно использовать timestamp: `YYYYMMDDHHMMSS`)
3. **Каждая запись** должна иметь якорь для ссылок из тегов
4. **Не удаляй** старые записи — это история изменений
5. **Один файл** на день и ветку

